"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_aaa_Pictures_TCHAT_project_bolt_sb1_ojgmykj8_project_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\aaa\\\\Pictures\\\\TCHAT\\\\project-bolt-sb1-ojgmykj8\\\\project\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_aaa_Pictures_TCHAT_project_bolt_sb1_ojgmykj8_project_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhYWElNUNQaWN0dXJlcyU1Q1RDSEFUJTVDcHJvamVjdC1ib2x0LXNiMS1vamdteWtqOCU1Q3Byb2plY3QlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2FhYSU1Q1BpY3R1cmVzJTVDVENIQVQlNUNwcm9qZWN0LWJvbHQtc2IxLW9qZ215a2o4JTVDcHJvamVjdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDa0Q7QUFDL0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1jaGF0LWFwcC8/ZDgxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxhYWFcXFxcUGljdHVyZXNcXFxcVENIQVRcXFxccHJvamVjdC1ib2x0LXNiMS1vamdteWtqOFxcXFxwcm9qZWN0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcYWFhXFxcXFBpY3R1cmVzXFxcXFRDSEFUXFxcXHByb2plY3QtYm9sdC1zYjEtb2pnbXlrajhcXFxccHJvamVjdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjaGF0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGF0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _server_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ~/server/auth */ \"(rsc)/./src/server/auth.ts\");\n/* harmony import */ var _lib_llm_providers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ~/lib/llm-providers */ \"(rsc)/./src/lib/llm-providers.ts\");\n\n\n // Adjust import path as needed\n// Force Node.js runtime instead of Edge Runtime\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function POST(req) {\n    try {\n        const session = await (0,_server_auth__WEBPACK_IMPORTED_MODULE_1__.getServerAuthSession)();\n        // Check if user is authenticated OR if this is a guest request\n        const isGuest = !session?.user;\n        const isAuthenticated = !!session?.user;\n        // Allow both authenticated users and guests\n        if (!isAuthenticated && !isGuest) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { messages, provider = \"openrouter\", model, isGuestRequest } = await req.json();\n        if (!messages || !Array.isArray(messages)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Messages are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Optional: Add rate limiting for guest users\n        if (isGuest) {\n            // You can implement additional checks here for guest users\n            // such as message count limits, rate limiting, etc.\n            console.log(\"Processing guest request\");\n            // Optional: Limit message length for guests\n            const totalMessageLength = messages.reduce((total, msg)=>total + (msg.content?.length || 0), 0);\n            if (totalMessageLength > 5000) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Message too long for guest users\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Get the provider implementation\n        const llmProvider = _lib_llm_providers__WEBPACK_IMPORTED_MODULE_2__.providers[provider];\n        if (!llmProvider) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Invalid provider: ${provider}`\n            }, {\n                status: 400\n            });\n        }\n        // Validate model selection\n        if (!llmProvider.models.includes(model)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Invalid model for provider ${provider}: ${model}`\n            }, {\n                status: 400\n            });\n        }\n        // Optional: For guests, you might want to use a specific model or provider\n        // to control costs or capabilities\n        let finalModel = model;\n        let finalProvider = llmProvider;\n        if (isGuest) {\n            // You could force guests to use a cheaper/faster model\n            // finalModel = \"gpt-3.5-turbo\"; // Example\n            console.log(`Guest using model: ${finalModel}`);\n        }\n        // Generate the stream using the provider\n        const stream = await finalProvider.generate(messages, finalModel);\n        return new Response(stream, {\n            headers: {\n                \"Content-Type\": \"text/event-stream\",\n                \"Cache-Control\": \"no-cache\",\n                \"Connection\": \"keep-alive\",\n                // Optional: Add headers to identify guest vs authenticated requests\n                \"X-User-Type\": isGuest ? \"guest\" : \"authenticated\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Chat API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xEO1lBQUV4QixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWNoYXQtYXBwLy4vc3JjL2FwcC9hcGkvY2hhdC9yb3V0ZS50cz80NmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGdldFNlcnZlckF1dGhTZXNzaW9uIH0gZnJvbSBcIn4vc2VydmVyL2F1dGhcIjtcbmltcG9ydCB7IHByb3ZpZGVycyB9IGZyb20gXCJ+L2xpYi9sbG0tcHJvdmlkZXJzXCI7IC8vIEFkanVzdCBpbXBvcnQgcGF0aCBhcyBuZWVkZWRcblxuLy8gRm9yY2UgTm9kZS5qcyBydW50aW1lIGluc3RlYWQgb2YgRWRnZSBSdW50aW1lXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlckF1dGhTZXNzaW9uKCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkIE9SIGlmIHRoaXMgaXMgYSBndWVzdCByZXF1ZXN0XG4gICAgY29uc3QgaXNHdWVzdCA9ICFzZXNzaW9uPy51c2VyO1xuICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9ICEhc2Vzc2lvbj8udXNlcjtcbiAgICBcbiAgICAvLyBBbGxvdyBib3RoIGF1dGhlbnRpY2F0ZWQgdXNlcnMgYW5kIGd1ZXN0c1xuICAgIGlmICghaXNBdXRoZW50aWNhdGVkICYmICFpc0d1ZXN0KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbWVzc2FnZXMsIHByb3ZpZGVyID0gXCJvcGVucm91dGVyXCIsIG1vZGVsLCBpc0d1ZXN0UmVxdWVzdCB9ID0gYXdhaXQgcmVxLmpzb24oKTtcblxuICAgIGlmICghbWVzc2FnZXMgfHwgIUFycmF5LmlzQXJyYXkobWVzc2FnZXMpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiTWVzc2FnZXMgYXJlIHJlcXVpcmVkXCIgfSwgXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbDogQWRkIHJhdGUgbGltaXRpbmcgZm9yIGd1ZXN0IHVzZXJzXG4gICAgaWYgKGlzR3Vlc3QpIHtcbiAgICAgIC8vIFlvdSBjYW4gaW1wbGVtZW50IGFkZGl0aW9uYWwgY2hlY2tzIGhlcmUgZm9yIGd1ZXN0IHVzZXJzXG4gICAgICAvLyBzdWNoIGFzIG1lc3NhZ2UgY291bnQgbGltaXRzLCByYXRlIGxpbWl0aW5nLCBldGMuXG4gICAgICBjb25zb2xlLmxvZyhcIlByb2Nlc3NpbmcgZ3Vlc3QgcmVxdWVzdFwiKTtcbiAgICAgIFxuICAgICAgLy8gT3B0aW9uYWw6IExpbWl0IG1lc3NhZ2UgbGVuZ3RoIGZvciBndWVzdHNcbiAgICAgIGNvbnN0IHRvdGFsTWVzc2FnZUxlbmd0aCA9IG1lc3NhZ2VzLnJlZHVjZSgodG90YWwsIG1zZykgPT4gdG90YWwgKyAobXNnLmNvbnRlbnQ/Lmxlbmd0aCB8fCAwKSwgMCk7XG4gICAgICBpZiAodG90YWxNZXNzYWdlTGVuZ3RoID4gNTAwMCkgeyAvLyA1S0IgbGltaXQgZm9yIGd1ZXN0c1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogXCJNZXNzYWdlIHRvbyBsb25nIGZvciBndWVzdCB1c2Vyc1wiIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBwcm92aWRlciBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IGxsbVByb3ZpZGVyID0gcHJvdmlkZXJzW3Byb3ZpZGVyIGFzIGtleW9mIHR5cGVvZiBwcm92aWRlcnNdO1xuICAgIFxuICAgIGlmICghbGxtUHJvdmlkZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogYEludmFsaWQgcHJvdmlkZXI6ICR7cHJvdmlkZXJ9YCB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbW9kZWwgc2VsZWN0aW9uXG4gICAgaWYgKCFsbG1Qcm92aWRlci5tb2RlbHMuaW5jbHVkZXMobW9kZWwpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IGBJbnZhbGlkIG1vZGVsIGZvciBwcm92aWRlciAke3Byb3ZpZGVyfTogJHttb2RlbH1gIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbDogRm9yIGd1ZXN0cywgeW91IG1pZ2h0IHdhbnQgdG8gdXNlIGEgc3BlY2lmaWMgbW9kZWwgb3IgcHJvdmlkZXJcbiAgICAvLyB0byBjb250cm9sIGNvc3RzIG9yIGNhcGFiaWxpdGllc1xuICAgIGxldCBmaW5hbE1vZGVsID0gbW9kZWw7XG4gICAgbGV0IGZpbmFsUHJvdmlkZXIgPSBsbG1Qcm92aWRlcjtcbiAgICBcbiAgICBpZiAoaXNHdWVzdCkge1xuICAgICAgLy8gWW91IGNvdWxkIGZvcmNlIGd1ZXN0cyB0byB1c2UgYSBjaGVhcGVyL2Zhc3RlciBtb2RlbFxuICAgICAgLy8gZmluYWxNb2RlbCA9IFwiZ3B0LTMuNS10dXJib1wiOyAvLyBFeGFtcGxlXG4gICAgICBjb25zb2xlLmxvZyhgR3Vlc3QgdXNpbmcgbW9kZWw6ICR7ZmluYWxNb2RlbH1gKTtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSB0aGUgc3RyZWFtIHVzaW5nIHRoZSBwcm92aWRlclxuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGZpbmFsUHJvdmlkZXIuZ2VuZXJhdGUobWVzc2FnZXMsIGZpbmFsTW9kZWwpO1xuICAgIFxuICAgIHJldHVybiBuZXcgUmVzcG9uc2Uoc3RyZWFtLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwibm8tY2FjaGVcIixcbiAgICAgICAgXCJDb25uZWN0aW9uXCI6IFwia2VlcC1hbGl2ZVwiLFxuICAgICAgICAvLyBPcHRpb25hbDogQWRkIGhlYWRlcnMgdG8gaWRlbnRpZnkgZ3Vlc3QgdnMgYXV0aGVudGljYXRlZCByZXF1ZXN0c1xuICAgICAgICBcIlgtVXNlci1UeXBlXCI6IGlzR3Vlc3QgPyBcImd1ZXN0XCIgOiBcImF1dGhlbnRpY2F0ZWRcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQ2hhdCBBUEkgZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyQXV0aFNlc3Npb24iLCJwcm92aWRlcnMiLCJydW50aW1lIiwiZHluYW1pYyIsIlBPU1QiLCJyZXEiLCJzZXNzaW9uIiwiaXNHdWVzdCIsInVzZXIiLCJpc0F1dGhlbnRpY2F0ZWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlcyIsInByb3ZpZGVyIiwibW9kZWwiLCJpc0d1ZXN0UmVxdWVzdCIsIkFycmF5IiwiaXNBcnJheSIsImNvbnNvbGUiLCJsb2ciLCJ0b3RhbE1lc3NhZ2VMZW5ndGgiLCJyZWR1Y2UiLCJ0b3RhbCIsIm1zZyIsImNvbnRlbnQiLCJsZW5ndGgiLCJsbG1Qcm92aWRlciIsIm1vZGVscyIsImluY2x1ZGVzIiwiZmluYWxNb2RlbCIsImZpbmFsUHJvdmlkZXIiLCJzdHJlYW0iLCJnZW5lcmF0ZSIsIlJlc3BvbnNlIiwiaGVhZGVycyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/llm-providers.ts":
/*!**********************************!*\
  !*** ./src/lib/llm-providers.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroqProvider: () => (/* binding */ GroqProvider),\n/* harmony export */   OpenRouterProvider: () => (/* binding */ OpenRouterProvider),\n/* harmony export */   providers: () => (/* binding */ providers)\n/* harmony export */ });\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ~/env */ \"(rsc)/./src/env.js\");\n// src/server/llm/providers.ts\n\nclass OpenRouterProvider {\n    async generate(messages, model) {\n        const apiKey = _env__WEBPACK_IMPORTED_MODULE_0__.env.OPENROUTER_API_KEY;\n        if (!apiKey) {\n            throw new Error(\"OPENROUTER_API_KEY is not configured\");\n        }\n        console.log(\"Sending request to OpenRouter:\", {\n            model,\n            messageCount: messages.length\n        });\n        const response = await fetch(\"https://openrouter.ai/api/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                Authorization: `Bearer ${apiKey}`,\n                \"Content-Type\": \"application/json\",\n                \"HTTP-Referer\": process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\",\n                \"X-Title\": \"T3 Chat App\"\n            },\n            body: JSON.stringify({\n                model,\n                messages,\n                stream: true,\n                max_tokens: 1000,\n                temperature: 0.7\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"OpenRouter error:\", response.status, errorText);\n            throw new Error(`OpenRouter error: ${response.status} ${response.statusText} - ${errorText}`);\n        }\n        if (!response.body) {\n            throw new Error(\"No response body from OpenRouter\");\n        }\n        console.log(\"OpenRouter response received, starting stream...\");\n        return response.body;\n    }\n    constructor(){\n        this.name = \"OpenRouter\";\n        this.models = [\n            \"mistralai/mistral-7b-instruct:free\",\n            \"deepseek/deepseek-r1-0528:free\",\n            \"meta-llama/llama-4-scout:free\"\n        ];\n    }\n}\nclass GroqProvider {\n    async generate(messages, model, maxTokens) {\n        const apiKey = _env__WEBPACK_IMPORTED_MODULE_0__.env.GROQ_API_KEY;\n        if (!apiKey) {\n            throw new Error(\"GROQ_API_KEY is not configured\");\n        }\n        console.log(\"Sending request to Groq:\", {\n            model,\n            messageCount: messages.length\n        });\n        // Ensure messages have the correct format for Groq\n        const formattedMessages = messages.map((msg)=>({\n                role: msg.role === \"USER\" ? \"user\" : msg.role === \"ASSISTANT\" ? \"assistant\" : msg.role,\n                content: msg.content\n            }));\n        const response = await fetch(\"https://api.groq.com/openai/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                Authorization: `Bearer ${apiKey}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                model,\n                messages: formattedMessages,\n                max_tokens: maxTokens || 1000,\n                temperature: 0.7,\n                stream: true\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"Groq error:\", response.status, errorText);\n            throw new Error(`Groq error: ${response.status} ${response.statusText} - ${errorText}`);\n        }\n        if (!response.body) {\n            throw new Error(\"No response body from Groq\");\n        }\n        console.log(\"Groq response received, starting stream...\");\n        return response.body;\n    }\n    constructor(){\n        this.name = \"Groq\";\n        this.models = [\n            \"llama3-8b-8192\",\n            \"llama3-70b-8192\",\n            // \"mixtral-8x7b-32768\",\n            // \"gemma-7b-it\",\n            \"gemma2-9b-it\"\n        ];\n    }\n}\n// export class HuggingFaceProvider implements LLMProvider {\n//   name = \"Hugging Face\";\n//   models = [\n//     \"Qwen/Qwen3-Embedding-0.6B\",  \n//     \"microsoft/DialoGPT-small\",  \n//     \"facebook/blenderbot-1B-distill\",\n//   ];\n//   async generate(messages: any[], model: string) {\n//     const apiKey = env.HUGGINGFACE_API_KEY;\n//     // Format messages for DialoGPT-style models\n//     const formattedMessages = this.formatMessages(messages);\n//     const response = await fetch(\n//       `https://api-inference.huggingface.co/models/${model}`,\n//       {\n//         method: \"POST\",\n//         headers: {\n//           Authorization: `Bearer ${apiKey}`,\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify({\n//           inputs: formattedMessages,\n//           parameters: {\n//             max_new_tokens: 1024,\n//             return_full_text: false,\n//           },\n//         }),\n//       }\n//     );\n//     if (!response.ok) {\n//       throw new Error(`Hugging Face error: ${response.statusText}`);\n//     }\n//     return this.createStreamFromResponse(response);\n//   }\n//   private formatMessages(messages: any[]) {\n//     // For conversation models, format as { past_user_inputs, generated_responses, text }\n//     if (this.isConversationModel()) {\n//       const userMessages = messages\n//         .filter(m => m.role === \"user\")\n//         .map(m => m.content);\n//       const assistantMessages = messages\n//         .filter(m => m.role === \"assistant\")\n//         .map(m => m.content);\n//       return {\n//         past_user_inputs: userMessages.slice(0, -1),\n//         generated_responses: assistantMessages,\n//         text: userMessages[userMessages.length - 1] || \"\",\n//       };\n//     }\n//     // For text generation models, use the last message\n//     return messages[messages.length - 1]?.content || \"\";\n//   }\n//   private isConversationModel() {\n//     return this.models.some(m => m.includes(\"DialoGPT\") || m.includes(\"blenderbot\"));\n//   }\n//   private async createStreamFromResponse(response: Response) {\n//     const data = await response.json();\n//     const generatedText = data.generated_text || data[0]?.generated_text || \"\";\n//     return new ReadableStream({\n//       start(controller) {\n//         const encoder = new TextEncoder();\n//         let index = 0;\n//         function pushChunk() {\n//           if (index < generatedText.length) {\n//             controller.enqueue(\n//               encoder.encode(`data: ${JSON.stringify({ content: generatedText.charAt(index) })}\\n\\n`)\n//             );\n//             index++;\n//             setTimeout(pushChunk, 20);\n//           } else {\n//             controller.close();\n//           }\n//         }\n//         pushChunk();\n//       },\n//     });\n//   }\n// }\nconst providers = {\n    openrouter: new OpenRouterProvider(),\n    groq: new GroqProvider()\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDZDQUE2QztBQUM3Qyx5QkFBeUI7QUFFekIsaUNBQWlDO0FBQ2pDLGdEQUFnRDtBQUNoRCxrQ0FBa0M7QUFDbEMsd0dBQXdHO0FBQ3hHLGlCQUFpQjtBQUNqQix1QkFBdUI7QUFDdkIseUNBQXlDO0FBQ3pDLHFCQUFxQjtBQUNyQixrQ0FBa0M7QUFDbEMsY0FBYztBQUNkLFlBQVk7QUFFWix1QkFBdUI7QUFDdkIsV0FBVztBQUNYLFVBQVU7QUFDVixNQUFNO0FBQ04sSUFBSTtBQUVHLE1BQU1TLFlBQXlDO0lBQ3BEQyxZQUFZLElBQUl6QztJQUNoQjBDLE1BQU0sSUFBSVY7QUFFWixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtY2hhdC1hcHAvLi9zcmMvbGliL2xsbS1wcm92aWRlcnMudHM/MmJlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvc2VydmVyL2xsbS9wcm92aWRlcnMudHNcclxuaW1wb3J0IHsgZW52IH0gZnJvbSBcIn4vZW52XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExMTVByb3ZpZGVyIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgbW9kZWxzOiBzdHJpbmdbXTtcclxuICBnZW5lcmF0ZTogKFxyXG4gICAgbWVzc2FnZXM6IHsgcm9sZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmcgfVtdLFxyXG4gICAgbW9kZWw6IHN0cmluZyxcclxuICAgIG1heFRva2Vucz86IG51bWJlclxyXG4gICkgPT4gUHJvbWlzZTxSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5Pj47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgT3BlblJvdXRlclByb3ZpZGVyIGltcGxlbWVudHMgTExNUHJvdmlkZXIge1xyXG4gIG5hbWUgPSBcIk9wZW5Sb3V0ZXJcIjtcclxuICBtb2RlbHMgPSBbXHJcbiAgICBcIm1pc3RyYWxhaS9taXN0cmFsLTdiLWluc3RydWN0OmZyZWVcIixcclxuICAgIFwiZGVlcHNlZWsvZGVlcHNlZWstcjEtMDUyODpmcmVlXCIsXHJcbiAgICBcIm1ldGEtbGxhbWEvbGxhbWEtNC1zY291dDpmcmVlXCIsXHJcbiAgXTtcclxuXHJcbiAgYXN5bmMgZ2VuZXJhdGUobWVzc2FnZXM6IGFueVtdLCBtb2RlbDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBhcGlLZXkgPSBlbnYuT1BFTlJPVVRFUl9BUElfS0VZO1xyXG4gICAgXHJcbiAgICBpZiAoIWFwaUtleSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPUEVOUk9VVEVSX0FQSV9LRVkgaXMgbm90IGNvbmZpZ3VyZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJTZW5kaW5nIHJlcXVlc3QgdG8gT3BlblJvdXRlcjpcIiwgeyBtb2RlbCwgbWVzc2FnZUNvdW50OiBtZXNzYWdlcy5sZW5ndGggfSk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vb3BlbnJvdXRlci5haS9hcGkvdjEvY2hhdC9jb21wbGV0aW9uc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgXCJIVFRQLVJlZmVyZXJcIjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiLFxyXG4gICAgICAgIFwiWC1UaXRsZVwiOiBcIlQzIENoYXQgQXBwXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBtb2RlbCxcclxuICAgICAgICBtZXNzYWdlcyxcclxuICAgICAgICBzdHJlYW06IHRydWUsXHJcbiAgICAgICAgbWF4X3Rva2VuczogMTAwMCxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiT3BlblJvdXRlciBlcnJvcjpcIiwgcmVzcG9uc2Uuc3RhdHVzLCBlcnJvclRleHQpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9IC0gJHtlcnJvclRleHR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHJlc3BvbnNlIGJvZHkgZnJvbSBPcGVuUm91dGVyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiT3BlblJvdXRlciByZXNwb25zZSByZWNlaXZlZCwgc3RhcnRpbmcgc3RyZWFtLi4uXCIpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmJvZHk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBHcm9xUHJvdmlkZXIgaW1wbGVtZW50cyBMTE1Qcm92aWRlciB7XHJcbiAgbmFtZSA9IFwiR3JvcVwiO1xyXG4gIG1vZGVscyA9IFtcclxuICAgIFwibGxhbWEzLThiLTgxOTJcIixcclxuICAgIFwibGxhbWEzLTcwYi04MTkyXCIsXHJcbiAgICAvLyBcIm1peHRyYWwtOHg3Yi0zMjc2OFwiLFxyXG4gICAgLy8gXCJnZW1tYS03Yi1pdFwiLFxyXG4gICAgXCJnZW1tYTItOWItaXRcIixcclxuICBdO1xyXG5cclxuICBhc3luYyBnZW5lcmF0ZShtZXNzYWdlczogYW55W10sIG1vZGVsOiBzdHJpbmcsIG1heFRva2Vucz86IG51bWJlcikge1xyXG4gICAgY29uc3QgYXBpS2V5ID0gZW52LkdST1FfQVBJX0tFWTtcclxuICAgIFxyXG4gICAgaWYgKCFhcGlLZXkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR1JPUV9BUElfS0VZIGlzIG5vdCBjb25maWd1cmVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyByZXF1ZXN0IHRvIEdyb3E6XCIsIHsgbW9kZWwsIG1lc3NhZ2VDb3VudDogbWVzc2FnZXMubGVuZ3RoIH0pO1xyXG5cclxuICAgIC8vIEVuc3VyZSBtZXNzYWdlcyBoYXZlIHRoZSBjb3JyZWN0IGZvcm1hdCBmb3IgR3JvcVxyXG4gICAgY29uc3QgZm9ybWF0dGVkTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAobXNnID0+ICh7XHJcbiAgICAgIHJvbGU6IG1zZy5yb2xlID09PSBcIlVTRVJcIiA/IFwidXNlclwiIDogbXNnLnJvbGUgPT09IFwiQVNTSVNUQU5UXCIgPyBcImFzc2lzdGFudFwiIDogbXNnLnJvbGUsXHJcbiAgICAgIGNvbnRlbnQ6IG1zZy5jb250ZW50XHJcbiAgICB9KSk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYXBpLmdyb3EuY29tL29wZW5haS92MS9jaGF0L2NvbXBsZXRpb25zXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YCxcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG1vZGVsLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBmb3JtYXR0ZWRNZXNzYWdlcyxcclxuICAgICAgICBtYXhfdG9rZW5zOiBtYXhUb2tlbnMgfHwgMTAwMCxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxyXG4gICAgICAgIHN0cmVhbTogdHJ1ZSxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkdyb3EgZXJyb3I6XCIsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBHcm9xIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fSAtICR7ZXJyb3JUZXh0fWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNwb25zZSBib2R5IGZyb20gR3JvcVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIkdyb3EgcmVzcG9uc2UgcmVjZWl2ZWQsIHN0YXJ0aW5nIHN0cmVhbS4uLlwiKTtcclxuICAgIHJldHVybiByZXNwb25zZS5ib2R5O1xyXG4gIH1cclxufVxyXG4vLyBleHBvcnQgY2xhc3MgSHVnZ2luZ0ZhY2VQcm92aWRlciBpbXBsZW1lbnRzIExMTVByb3ZpZGVyIHtcclxuLy8gICBuYW1lID0gXCJIdWdnaW5nIEZhY2VcIjtcclxuLy8gICBtb2RlbHMgPSBbXHJcbi8vICAgICBcIlF3ZW4vUXdlbjMtRW1iZWRkaW5nLTAuNkJcIiwgIFxyXG4vLyAgICAgXCJtaWNyb3NvZnQvRGlhbG9HUFQtc21hbGxcIiwgIFxyXG4vLyAgICAgXCJmYWNlYm9vay9ibGVuZGVyYm90LTFCLWRpc3RpbGxcIixcclxuLy8gICBdO1xyXG5cclxuLy8gICBhc3luYyBnZW5lcmF0ZShtZXNzYWdlczogYW55W10sIG1vZGVsOiBzdHJpbmcpIHtcclxuLy8gICAgIGNvbnN0IGFwaUtleSA9IGVudi5IVUdHSU5HRkFDRV9BUElfS0VZO1xyXG4gICAgXHJcbi8vICAgICAvLyBGb3JtYXQgbWVzc2FnZXMgZm9yIERpYWxvR1BULXN0eWxlIG1vZGVsc1xyXG4vLyAgICAgY29uc3QgZm9ybWF0dGVkTWVzc2FnZXMgPSB0aGlzLmZvcm1hdE1lc3NhZ2VzKG1lc3NhZ2VzKTtcclxuICAgIFxyXG4vLyAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuLy8gICAgICAgYGh0dHBzOi8vYXBpLWluZmVyZW5jZS5odWdnaW5nZmFjZS5jby9tb2RlbHMvJHttb2RlbH1gLFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuLy8gICAgICAgICBoZWFkZXJzOiB7XHJcbi8vICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXHJcbi8vICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuLy8gICAgICAgICAgIGlucHV0czogZm9ybWF0dGVkTWVzc2FnZXMsXHJcbi8vICAgICAgICAgICBwYXJhbWV0ZXJzOiB7XHJcbi8vICAgICAgICAgICAgIG1heF9uZXdfdG9rZW5zOiAxMDI0LFxyXG4vLyAgICAgICAgICAgICByZXR1cm5fZnVsbF90ZXh0OiBmYWxzZSxcclxuLy8gICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgfSksXHJcbi8vICAgICAgIH1cclxuLy8gICAgICk7XHJcblxyXG4vLyAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4vLyAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEh1Z2dpbmcgRmFjZSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJldHVybiB0aGlzLmNyZWF0ZVN0cmVhbUZyb21SZXNwb25zZShyZXNwb25zZSk7XHJcbi8vICAgfVxyXG5cclxuLy8gICBwcml2YXRlIGZvcm1hdE1lc3NhZ2VzKG1lc3NhZ2VzOiBhbnlbXSkge1xyXG4vLyAgICAgLy8gRm9yIGNvbnZlcnNhdGlvbiBtb2RlbHMsIGZvcm1hdCBhcyB7IHBhc3RfdXNlcl9pbnB1dHMsIGdlbmVyYXRlZF9yZXNwb25zZXMsIHRleHQgfVxyXG4vLyAgICAgaWYgKHRoaXMuaXNDb252ZXJzYXRpb25Nb2RlbCgpKSB7XHJcbi8vICAgICAgIGNvbnN0IHVzZXJNZXNzYWdlcyA9IG1lc3NhZ2VzXHJcbi8vICAgICAgICAgLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gXCJ1c2VyXCIpXHJcbi8vICAgICAgICAgLm1hcChtID0+IG0uY29udGVudCk7XHJcbiAgICAgIFxyXG4vLyAgICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlcyA9IG1lc3NhZ2VzXHJcbi8vICAgICAgICAgLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gXCJhc3Npc3RhbnRcIilcclxuLy8gICAgICAgICAubWFwKG0gPT4gbS5jb250ZW50KTtcclxuICAgICAgXHJcbi8vICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgcGFzdF91c2VyX2lucHV0czogdXNlck1lc3NhZ2VzLnNsaWNlKDAsIC0xKSxcclxuLy8gICAgICAgICBnZW5lcmF0ZWRfcmVzcG9uc2VzOiBhc3Npc3RhbnRNZXNzYWdlcyxcclxuLy8gICAgICAgICB0ZXh0OiB1c2VyTWVzc2FnZXNbdXNlck1lc3NhZ2VzLmxlbmd0aCAtIDFdIHx8IFwiXCIsXHJcbi8vICAgICAgIH07XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIC8vIEZvciB0ZXh0IGdlbmVyYXRpb24gbW9kZWxzLCB1c2UgdGhlIGxhc3QgbWVzc2FnZVxyXG4vLyAgICAgcmV0dXJuIG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdPy5jb250ZW50IHx8IFwiXCI7XHJcbi8vICAgfVxyXG5cclxuLy8gICBwcml2YXRlIGlzQ29udmVyc2F0aW9uTW9kZWwoKSB7XHJcbi8vICAgICByZXR1cm4gdGhpcy5tb2RlbHMuc29tZShtID0+IG0uaW5jbHVkZXMoXCJEaWFsb0dQVFwiKSB8fCBtLmluY2x1ZGVzKFwiYmxlbmRlcmJvdFwiKSk7XHJcbi8vICAgfVxyXG5cclxuLy8gICBwcml2YXRlIGFzeW5jIGNyZWF0ZVN0cmVhbUZyb21SZXNwb25zZShyZXNwb25zZTogUmVzcG9uc2UpIHtcclxuLy8gICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbi8vICAgICBjb25zdCBnZW5lcmF0ZWRUZXh0ID0gZGF0YS5nZW5lcmF0ZWRfdGV4dCB8fCBkYXRhWzBdPy5nZW5lcmF0ZWRfdGV4dCB8fCBcIlwiO1xyXG4gICAgXHJcbi8vICAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcclxuLy8gICAgICAgc3RhcnQoY29udHJvbGxlcikge1xyXG4vLyAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcclxuLy8gICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHB1c2hDaHVuaygpIHtcclxuLy8gICAgICAgICAgIGlmIChpbmRleCA8IGdlbmVyYXRlZFRleHQubGVuZ3RoKSB7XHJcbi8vICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcclxuLy8gICAgICAgICAgICAgICBlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IGNvbnRlbnQ6IGdlbmVyYXRlZFRleHQuY2hhckF0KGluZGV4KSB9KX1cXG5cXG5gKVxyXG4vLyAgICAgICAgICAgICApO1xyXG4vLyAgICAgICAgICAgICBpbmRleCsrO1xyXG4vLyAgICAgICAgICAgICBzZXRUaW1lb3V0KHB1c2hDaHVuaywgMjApO1xyXG4vLyAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuICAgICAgICBcclxuLy8gICAgICAgICBwdXNoQ2h1bmsoKTtcclxuLy8gICAgICAgfSxcclxuLy8gICAgIH0pO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGNvbnN0IHByb3ZpZGVyczogUmVjb3JkPHN0cmluZywgTExNUHJvdmlkZXI+ID0ge1xyXG4gIG9wZW5yb3V0ZXI6IG5ldyBPcGVuUm91dGVyUHJvdmlkZXIoKSxcclxuICBncm9xOiBuZXcgR3JvcVByb3ZpZGVyKCksXHJcbiAgLy8gaHVnZ2luZ2ZhY2U6IG5ldyBIdWdnaW5nRmFjZVByb3ZpZGVyKCksXHJcbn07Il0sIm5hbWVzIjpbImVudiIsIk9wZW5Sb3V0ZXJQcm92aWRlciIsImdlbmVyYXRlIiwibWVzc2FnZXMiLCJtb2RlbCIsImFwaUtleSIsIk9QRU5ST1VURVJfQVBJX0tFWSIsIkVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2VDb3VudCIsImxlbmd0aCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInByb2Nlc3MiLCJORVhUX1BVQkxJQ19BUFBfVVJMIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdHJlYW0iLCJtYXhfdG9rZW5zIiwidGVtcGVyYXR1cmUiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJuYW1lIiwibW9kZWxzIiwiR3JvcVByb3ZpZGVyIiwibWF4VG9rZW5zIiwiR1JPUV9BUElfS0VZIiwiZm9ybWF0dGVkTWVzc2FnZXMiLCJtYXAiLCJtc2ciLCJyb2xlIiwiY29udGVudCIsInByb3ZpZGVycyIsIm9wZW5yb3V0ZXIiLCJncm9xIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/llm-providers.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/auth.ts":
/*!****************************!*\
  !*** ./src/server/auth.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   getServerAuthSession: () => (/* binding */ getServerAuthSession)\n/* harmony export */ });\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~/env */ \"(rsc)/./src/env.js\");\n/* harmony import */ var _server_db__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ~/server/db */ \"(rsc)/./src/server/db.ts\");\n\n\n\n\n\n\n/**\n * Options for NextAuth.js used to configure adapters, providers, callbacks, etc.\n *\n * @see https://next-auth.js.org/configuration/options\n */ const authOptions = {\n    secret: _env__WEBPACK_IMPORTED_MODULE_4__.env.NEXTAUTH_SECRET,\n    // Custom pages - this is what redirects to your custom sign-in page\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    callbacks: {\n        session: ({ session, user })=>({\n                ...session,\n                user: {\n                    ...session.user,\n                    id: user.id\n                }\n            })\n    },\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_server_db__WEBPACK_IMPORTED_MODULE_5__.db),\n    session: {\n        maxAge: 30 * 24 * 60 * 60\n    },\n    providers: [\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: _env__WEBPACK_IMPORTED_MODULE_4__.env.GITHUB_CLIENT_ID,\n            clientSecret: _env__WEBPACK_IMPORTED_MODULE_4__.env.GITHUB_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            clientId: _env__WEBPACK_IMPORTED_MODULE_4__.env.GOOGLE_CLIENT_ID,\n            clientSecret: _env__WEBPACK_IMPORTED_MODULE_4__.env.GOOGLE_CLIENT_SECRET,\n            httpOptions: {\n                timeout: 10000\n            }\n        })\n    ]\n};\n/**\n * Wrapper for `getServerSession` so that you don't need to import the `authOptions` in every file.\n *\n * @see https://next-auth.js.org/configuration/nextjs\n */ const getServerAuthSession = ()=>(0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(authOptions);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFEO0FBS2xDO0FBRXFDO0FBQ0E7QUFFNUI7QUFDSztBQXVCakM7Ozs7Q0FJQyxHQUVNLE1BQU1NLGNBQStCO0lBQzFDQyxRQUFRSCxxQ0FBR0EsQ0FBQ0ksZUFBZTtJQUUzQixvRUFBb0U7SUFDcEVDLE9BQU87UUFDTEMsUUFBUTtJQU1WO0lBRUFDLFdBQVc7UUFDVEMsU0FBUyxDQUFDLEVBQUVBLE9BQU8sRUFBRUMsSUFBSSxFQUFFLEdBQU07Z0JBQy9CLEdBQUdELE9BQU87Z0JBQ1ZDLE1BQU07b0JBQ0osR0FBR0QsUUFBUUMsSUFBSTtvQkFDZkMsSUFBSUQsS0FBS0MsRUFBRTtnQkFDYjtZQUNGO0lBQ0Y7SUFDQUMsU0FBU2YsbUVBQWFBLENBQUNLLDBDQUFFQTtJQUN6Qk8sU0FBUztRQUNQSSxRQUFRLEtBQUssS0FBSyxLQUFLO0lBQ3pCO0lBRUFDLFdBQVc7UUFDVGYsc0VBQWNBLENBQUM7WUFDYmdCLFVBQVVkLHFDQUFHQSxDQUFDZSxnQkFBZ0I7WUFDOUJDLGNBQWNoQixxQ0FBR0EsQ0FBQ2lCLG9CQUFvQjtRQUN4QztRQUNBbEIsc0VBQWNBLENBQUM7WUFDYmUsVUFBVWQscUNBQUdBLENBQUNrQixnQkFBZ0I7WUFDOUJGLGNBQWNoQixxQ0FBR0EsQ0FBQ21CLG9CQUFvQjtZQUN0Q0MsYUFBYTtnQkFDWEMsU0FBUztZQUNYO1FBQ0Y7S0FDRDtBQUNILEVBQUU7QUFFRjs7OztDQUlDLEdBQ00sTUFBTUMsdUJBQXVCLElBQU16QiwyREFBZ0JBLENBQUNLLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1jaGF0LWFwcC8uL3NyYy9zZXJ2ZXIvYXV0aC50cz8yMmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tIFwiQGF1dGgvcHJpc21hLWFkYXB0ZXJcIjtcbmltcG9ydCB7XG4gIGdldFNlcnZlclNlc3Npb24sXG4gIHR5cGUgRGVmYXVsdFNlc3Npb24sXG4gIHR5cGUgTmV4dEF1dGhPcHRpb25zLFxufSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgeyB0eXBlIEFkYXB0ZXIgfSBmcm9tIFwibmV4dC1hdXRoL2FkYXB0ZXJzXCI7XG5pbXBvcnQgR2l0SHViUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ2l0aHViXCI7XG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCI7XG5cbmltcG9ydCB7IGVudiB9IGZyb20gXCJ+L2VudlwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwifi9zZXJ2ZXIvZGJcIjtcblxuLyoqXG4gKiBNb2R1bGUgYXVnbWVudGF0aW9uIGZvciBgbmV4dC1hdXRoYCB0eXBlcy4gQWxsb3dzIHVzIHRvIGFkZCBjdXN0b20gcHJvcGVydGllcyB0byB0aGUgYHNlc3Npb25gXG4gKiBvYmplY3QgYW5kIGtlZXAgdHlwZSBzYWZldHkuXG4gKlxuICogQHNlZSBodHRwczovL25leHQtYXV0aC5qcy5vcmcvZ2V0dGluZy1zdGFydGVkL3R5cGVzY3JpcHQjbW9kdWxlLWF1Z21lbnRhdGlvblxuICovXG5kZWNsYXJlIG1vZHVsZSBcIm5leHQtYXV0aFwiIHtcbiAgaW50ZXJmYWNlIFNlc3Npb24gZXh0ZW5kcyBEZWZhdWx0U2Vzc2lvbiB7XG4gICAgdXNlcjoge1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIC8vIC4uLm90aGVyIHByb3BlcnRpZXNcbiAgICAgIC8vIHJvbGU6IFVzZXJSb2xlO1xuICAgIH0gJiBEZWZhdWx0U2Vzc2lvbltcInVzZXJcIl07XG4gIH1cblxuICAvLyBpbnRlcmZhY2UgVXNlciB7XG4gIC8vICAgLy8gLi4ub3RoZXIgcHJvcGVydGllc1xuICAvLyAgIC8vIHJvbGU6IFVzZXJSb2xlO1xuICAvLyB9XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgTmV4dEF1dGguanMgdXNlZCB0byBjb25maWd1cmUgYWRhcHRlcnMsIHByb3ZpZGVycywgY2FsbGJhY2tzLCBldGMuXG4gKlxuICogQHNlZSBodHRwczovL25leHQtYXV0aC5qcy5vcmcvY29uZmlndXJhdGlvbi9vcHRpb25zXG4gKi9cblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHNlY3JldDogZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbiAgXG4gIC8vIEN1c3RvbSBwYWdlcyAtIHRoaXMgaXMgd2hhdCByZWRpcmVjdHMgdG8geW91ciBjdXN0b20gc2lnbi1pbiBwYWdlXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiBcIi9hdXRoL3NpZ25pblwiLFxuICAgIC8vIFlvdSBjYW4gYWxzbyBjdXN0b21pemUgb3RoZXIgcGFnZXM6XG4gICAgLy8gc2lnbk91dDogXCIvYXV0aC9zaWdub3V0XCIsXG4gICAgLy8gZXJyb3I6IFwiL2F1dGgvZXJyb3JcIixcbiAgICAvLyB2ZXJpZnlSZXF1ZXN0OiBcIi9hdXRoL3ZlcmlmeS1yZXF1ZXN0XCIsXG4gICAgLy8gbmV3VXNlcjogXCIvYXV0aC9uZXctdXNlclwiXG4gIH0sXG4gIFxuICBjYWxsYmFja3M6IHtcbiAgICBzZXNzaW9uOiAoeyBzZXNzaW9uLCB1c2VyIH0pID0+ICh7XG4gICAgICAuLi5zZXNzaW9uLFxuICAgICAgdXNlcjoge1xuICAgICAgICAuLi5zZXNzaW9uLnVzZXIsXG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSxcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihkYikgYXMgQWRhcHRlcixcbiAgc2Vzc2lvbjoge1xuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsXG4gIH0sXG4gIFxuICBwcm92aWRlcnM6IFtcbiAgICBHaXRIdWJQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogZW52LkdJVEhVQl9DTElFTlRfSUQsXG4gICAgICBjbGllbnRTZWNyZXQ6IGVudi5HSVRIVUJfQ0xJRU5UX1NFQ1JFVCxcbiAgICB9KSxcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogZW52LkdPT0dMRV9DTElFTlRfSUQsXG4gICAgICBjbGllbnRTZWNyZXQ6IGVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCxcbiAgICAgIGh0dHBPcHRpb25zOiB7XG4gICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgfVxuICAgIH0pLFxuICBdLFxufTtcblxuLyoqXG4gKiBXcmFwcGVyIGZvciBgZ2V0U2VydmVyU2Vzc2lvbmAgc28gdGhhdCB5b3UgZG9uJ3QgbmVlZCB0byBpbXBvcnQgdGhlIGBhdXRoT3B0aW9uc2AgaW4gZXZlcnkgZmlsZS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vbmV4dC1hdXRoLmpzLm9yZy9jb25maWd1cmF0aW9uL25leHRqc1xuICovXG5leHBvcnQgY29uc3QgZ2V0U2VydmVyQXV0aFNlc3Npb24gPSAoKSA9PiBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTsiXSwibmFtZXMiOlsiUHJpc21hQWRhcHRlciIsImdldFNlcnZlclNlc3Npb24iLCJHaXRIdWJQcm92aWRlciIsIkdvb2dsZVByb3ZpZGVyIiwiZW52IiwiZGIiLCJhdXRoT3B0aW9ucyIsInNlY3JldCIsIk5FWFRBVVRIX1NFQ1JFVCIsInBhZ2VzIiwic2lnbkluIiwiY2FsbGJhY2tzIiwic2Vzc2lvbiIsInVzZXIiLCJpZCIsImFkYXB0ZXIiLCJtYXhBZ2UiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsIkdJVEhVQl9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHSVRIVUJfQ0xJRU5UX1NFQ1JFVCIsIkdPT0dMRV9DTElFTlRfSUQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImh0dHBPcHRpb25zIiwidGltZW91dCIsImdldFNlcnZlckF1dGhTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db.ts":
/*!**************************!*\
  !*** ./src/server/db.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ~/env */ \"(rsc)/./src/env.js\");\n\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: _env__WEBPACK_IMPORTED_MODULE_1__.env.NODE_ENV === \"development\" ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : [\n        \"error\"\n    ]\n});\nif (_env__WEBPACK_IMPORTED_MODULE_1__.env.NODE_ENV !== \"production\") globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFFbEI7QUFFNUIsTUFBTUUsa0JBQWtCQztBQUlqQixNQUFNQyxLQUNYRixnQkFBZ0JHLE1BQU0sSUFDdEIsSUFBSUwsd0RBQVlBLENBQUM7SUFDZk0sS0FDRUwscUNBQUdBLENBQUNNLFFBQVEsS0FBSyxnQkFBZ0I7UUFBQztRQUFTO1FBQVM7S0FBTyxHQUFHO1FBQUM7S0FBUTtBQUMzRSxHQUFHO0FBRUwsSUFBSU4scUNBQUdBLENBQUNNLFFBQVEsS0FBSyxjQUFjTCxnQkFBZ0JHLE1BQU0sR0FBR0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1jaGF0LWFwcC8uL3NyYy9zZXJ2ZXIvZGIudHM/YWE2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcblxuaW1wb3J0IHsgZW52IH0gZnJvbSBcIn4vZW52XCI7XG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGRiID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/P1xuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6XG4gICAgICBlbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IFtcInF1ZXJ5XCIsIFwiZXJyb3JcIiwgXCJ3YXJuXCJdIDogW1wiZXJyb3JcIl0sXG4gIH0pO1xuXG5pZiAoZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IGRiOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJlbnYiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwiZGIiLCJwcmlzbWEiLCJsb2ciLCJOT0RFX0VOViJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/env.js":
/*!********************!*\
  !*** ./src/env.js ***!
  \********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env: () => (/* binding */ env)\n/* harmony export */ });\n/* harmony import */ var _t3_oss_env_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @t3-oss/env-nextjs */ \"(rsc)/./node_modules/@t3-oss/env-nextjs/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/dist/esm/index.js\");\n\n\nconst env = (0,_t3_oss_env_nextjs__WEBPACK_IMPORTED_MODULE_0__.createEnv)({\n    /**\n   * Specify your server-side environment variables schema here. This way you can ensure the app\n   * isn't built with invalid env vars.\n   */ server: {\n        DATABASE_URL: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().url().refine((str)=>!str.includes(\"YOUR_MYSQL_URL_HERE\"), \"You forgot to change the default URL\"),\n        NODE_ENV: zod__WEBPACK_IMPORTED_MODULE_1__.z[\"enum\"]([\n            \"development\",\n            \"test\",\n            \"production\"\n        ]).default(\"development\"),\n        NEXTAUTH_SECRET:  false ? 0 : zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n        NEXTAUTH_URL: zod__WEBPACK_IMPORTED_MODULE_1__.z.preprocess(// This makes Vercel deployments not fail if you don't set NEXTAUTH_URL\n        // Since NextAuth.js automatically uses the VERCEL_URL if present.\n        (str)=>process.env.VERCEL_URL ?? str, // VERCEL_URL doesn't include `https` so it cant be validated as a URL\n        process.env.VERCEL ? zod__WEBPACK_IMPORTED_MODULE_1__.z.string() : zod__WEBPACK_IMPORTED_MODULE_1__.z.string().url()),\n        GITHUB_CLIENT_ID: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n        GITHUB_CLIENT_SECRET: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n        GOOGLE_CLIENT_ID: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n        GOOGLE_CLIENT_SECRET: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n        OPENROUTER_API_KEY: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n        GROQ_API_KEY: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n        HUGGINGFACE_API_KEY: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n        BLOB_READ_WRITE_TOKEN: zod__WEBPACK_IMPORTED_MODULE_1__.z.string()\n    },\n    /**\n   * Specify your client-side environment variables schema here. This way you can ensure the app\n   * isn't built with invalid env vars. To expose them to the client, prefix them with\n   * `NEXT_PUBLIC_`.\n   */ client: {\n    },\n    /**\n   * You can't destruct `process.env` as a regular object in the Next.js edge runtimes (e.g.\n   * middlewares) or client-side so we need to destruct manually.\n   */ runtimeEnv: {\n        DATABASE_URL: process.env.DATABASE_URL,\n        NODE_ENV: \"development\",\n        NEXTAUTH_SECRET: process.env.NEXTAUTH_SECRET,\n        NEXTAUTH_URL: process.env.NEXTAUTH_URL,\n        GITHUB_CLIENT_ID: process.env.GITHUB_CLIENT_ID,\n        GITHUB_CLIENT_SECRET: process.env.GITHUB_CLIENT_SECRET,\n        GOOGLE_CLIENT_ID: process.env.GOOGLE_CLIENT_ID,\n        GOOGLE_CLIENT_SECRET: process.env.GOOGLE_CLIENT_SECRET,\n        OPENROUTER_API_KEY: process.env.OPENROUTER_API_KEY,\n        GROQ_API_KEY: process.env.GROQ_API_KEY,\n        HUGGINGFACE_API_KEY: process.env.HUGGINGFACE_API_KEY,\n        BLOB_READ_WRITE_TOKEN: process.env.BLOB_READ_WRITE_TOKEN\n    },\n    /**\n   * Run `build` or `dev` with `SKIP_ENV_VALIDATION` to skip env validation. This is especially\n   * useful for Docker builds.\n   */ skipValidation: !!process.env.SKIP_ENV_VALIDATION,\n    /**\n   * Makes it so that empty strings are treated as undefined. `SOME_VAR: z.string()` and\n   * `SOME_VAR=''` will throw an error.\n   */ emptyStringAsUndefined: true\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZW52LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUN2QjtBQUVqQixNQUFNRSxNQUFNRiw2REFBU0EsQ0FBQztJQUMzQjs7O0dBR0MsR0FDREcsUUFBUTtRQUNOQyxjQUFjSCx5Q0FDTCxHQUNOSyxHQUFHLEdBQ0hDLE1BQU0sQ0FDTCxDQUFDQyxNQUFRLENBQUNBLElBQUlDLFFBQVEsQ0FBQyx3QkFDdkI7UUFFSkMsVUFBVVQsMENBQ0gsQ0FBQztZQUFDO1lBQWU7WUFBUTtTQUFhLEVBQzFDVyxPQUFPLENBQUM7UUFDWEMsaUJBQ0VDLE1BQXFDLEdBQ2pDYixDQUFVLEdBQ1ZBLHlDQUFRLEdBQUdjLFFBQVE7UUFDekJDLGNBQWNmLDZDQUFZLENBQ3hCLHVFQUF1RTtRQUN2RSxrRUFBa0U7UUFDbEUsQ0FBQ08sTUFBUU0sUUFBUVosR0FBRyxDQUFDZ0IsVUFBVSxJQUFJVixLQUNuQyxzRUFBc0U7UUFDdEVNLFFBQVFaLEdBQUcsQ0FBQ2lCLE1BQU0sR0FBR2xCLHlDQUFRLEtBQUtBLHlDQUFRLEdBQUdLLEdBQUc7UUFFbERjLGtCQUFrQm5CLHlDQUFRO1FBQzFCb0Isc0JBQXNCcEIseUNBQVE7UUFDOUJxQixrQkFBa0JyQix5Q0FBUTtRQUMxQnNCLHNCQUFzQnRCLHlDQUFRO1FBQzlCdUIsb0JBQW9CdkIseUNBQVEsR0FBR2MsUUFBUTtRQUN2Q1UsY0FBY3hCLHlDQUFRLEdBQUdjLFFBQVE7UUFDakNXLHFCQUFxQnpCLHlDQUFRLEdBQUdjLFFBQVE7UUFDeENZLHVCQUF1QjFCLHlDQUFRO0lBQ2pDO0lBRUE7Ozs7R0FJQyxHQUNEMkIsUUFBUTtJQUVSO0lBRUE7OztHQUdDLEdBQ0RDLFlBQVk7UUFDVnpCLGNBQWNVLFFBQVFaLEdBQUcsQ0FBQ0UsWUFBWTtRQUN0Q00sVUF2REo7UUF3RElHLGlCQUFpQkMsUUFBUVosR0FBRyxDQUFDVyxlQUFlO1FBQzVDRyxjQUFjRixRQUFRWixHQUFHLENBQUNjLFlBQVk7UUFDdENJLGtCQUFrQk4sUUFBUVosR0FBRyxDQUFDa0IsZ0JBQWdCO1FBQzlDQyxzQkFBc0JQLFFBQVFaLEdBQUcsQ0FBQ21CLG9CQUFvQjtRQUN0REMsa0JBQWtCUixRQUFRWixHQUFHLENBQUNvQixnQkFBZ0I7UUFDOUNDLHNCQUFzQlQsUUFBUVosR0FBRyxDQUFDcUIsb0JBQW9CO1FBQ3REQyxvQkFBb0JWLFFBQVFaLEdBQUcsQ0FBQ3NCLGtCQUFrQjtRQUNsREMsY0FBY1gsUUFBUVosR0FBRyxDQUFDdUIsWUFBWTtRQUN0Q0MscUJBQXFCWixRQUFRWixHQUFHLENBQUN3QixtQkFBbUI7UUFDcERDLHVCQUF1QmIsUUFBUVosR0FBRyxDQUFDeUIscUJBQXFCO0lBQzFEO0lBQ0E7OztHQUdDLEdBQ0RHLGdCQUFnQixDQUFDLENBQUNoQixRQUFRWixHQUFHLENBQUM2QixtQkFBbUI7SUFDakQ7OztHQUdDLEdBQ0RDLHdCQUF3QjtBQUMxQixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtY2hhdC1hcHAvLi9zcmMvZW52LmpzPzEwYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRW52IH0gZnJvbSBcIkB0My1vc3MvZW52LW5leHRqc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGNvbnN0IGVudiA9IGNyZWF0ZUVudih7XG4gIC8qKlxuICAgKiBTcGVjaWZ5IHlvdXIgc2VydmVyLXNpZGUgZW52aXJvbm1lbnQgdmFyaWFibGVzIHNjaGVtYSBoZXJlLiBUaGlzIHdheSB5b3UgY2FuIGVuc3VyZSB0aGUgYXBwXG4gICAqIGlzbid0IGJ1aWx0IHdpdGggaW52YWxpZCBlbnYgdmFycy5cbiAgICovXG4gIHNlcnZlcjoge1xuICAgIERBVEFCQVNFX1VSTDogelxuICAgICAgLnN0cmluZygpXG4gICAgICAudXJsKClcbiAgICAgIC5yZWZpbmUoXG4gICAgICAgIChzdHIpID0+ICFzdHIuaW5jbHVkZXMoXCJZT1VSX01ZU1FMX1VSTF9IRVJFXCIpLFxuICAgICAgICBcIllvdSBmb3Jnb3QgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IFVSTFwiXG4gICAgICApLFxuICAgIE5PREVfRU5WOiB6XG4gICAgICAuZW51bShbXCJkZXZlbG9wbWVudFwiLCBcInRlc3RcIiwgXCJwcm9kdWN0aW9uXCJdKVxuICAgICAgLmRlZmF1bHQoXCJkZXZlbG9wbWVudFwiKSxcbiAgICBORVhUQVVUSF9TRUNSRVQ6XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCJcbiAgICAgICAgPyB6LnN0cmluZygpXG4gICAgICAgIDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIE5FWFRBVVRIX1VSTDogei5wcmVwcm9jZXNzKFxuICAgICAgLy8gVGhpcyBtYWtlcyBWZXJjZWwgZGVwbG95bWVudHMgbm90IGZhaWwgaWYgeW91IGRvbid0IHNldCBORVhUQVVUSF9VUkxcbiAgICAgIC8vIFNpbmNlIE5leHRBdXRoLmpzIGF1dG9tYXRpY2FsbHkgdXNlcyB0aGUgVkVSQ0VMX1VSTCBpZiBwcmVzZW50LlxuICAgICAgKHN0cikgPT4gcHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTCA/PyBzdHIsXG4gICAgICAvLyBWRVJDRUxfVVJMIGRvZXNuJ3QgaW5jbHVkZSBgaHR0cHNgIHNvIGl0IGNhbnQgYmUgdmFsaWRhdGVkIGFzIGEgVVJMXG4gICAgICBwcm9jZXNzLmVudi5WRVJDRUwgPyB6LnN0cmluZygpIDogei5zdHJpbmcoKS51cmwoKVxuICAgICksXG4gICAgR0lUSFVCX0NMSUVOVF9JRDogei5zdHJpbmcoKSxcbiAgICBHSVRIVUJfQ0xJRU5UX1NFQ1JFVDogei5zdHJpbmcoKSxcbiAgICBHT09HTEVfQ0xJRU5UX0lEOiB6LnN0cmluZygpLFxuICAgIEdPT0dMRV9DTElFTlRfU0VDUkVUOiB6LnN0cmluZygpLFxuICAgIE9QRU5ST1VURVJfQVBJX0tFWTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIEdST1FfQVBJX0tFWTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIEhVR0dJTkdGQUNFX0FQSV9LRVk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBCTE9CX1JFQURfV1JJVEVfVE9LRU46IHouc3RyaW5nKCksXG4gIH0sXG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgeW91ciBjbGllbnQtc2lkZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgc2NoZW1hIGhlcmUuIFRoaXMgd2F5IHlvdSBjYW4gZW5zdXJlIHRoZSBhcHBcbiAgICogaXNuJ3QgYnVpbHQgd2l0aCBpbnZhbGlkIGVudiB2YXJzLiBUbyBleHBvc2UgdGhlbSB0byB0aGUgY2xpZW50LCBwcmVmaXggdGhlbSB3aXRoXG4gICAqIGBORVhUX1BVQkxJQ19gLlxuICAgKi9cbiAgY2xpZW50OiB7XG4gICAgLy8gTkVYVF9QVUJMSUNfQ0xJRU5UVkFSOiB6LnN0cmluZygpLFxuICB9LFxuXG4gIC8qKlxuICAgKiBZb3UgY2FuJ3QgZGVzdHJ1Y3QgYHByb2Nlc3MuZW52YCBhcyBhIHJlZ3VsYXIgb2JqZWN0IGluIHRoZSBOZXh0LmpzIGVkZ2UgcnVudGltZXMgKGUuZy5cbiAgICogbWlkZGxld2FyZXMpIG9yIGNsaWVudC1zaWRlIHNvIHdlIG5lZWQgdG8gZGVzdHJ1Y3QgbWFudWFsbHkuXG4gICAqL1xuICBydW50aW1lRW52OiB7XG4gICAgREFUQUJBU0VfVVJMOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gICAgTk9ERV9FTlY6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuICAgIE5FWFRBVVRIX1NFQ1JFVDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuICAgIE5FWFRBVVRIX1VSTDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMLFxuICAgIEdJVEhVQl9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfSUQsXG4gICAgR0lUSFVCX0NMSUVOVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfU0VDUkVULFxuICAgIEdPT0dMRV9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQsXG4gICAgR09PR0xFX0NMSUVOVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVULFxuICAgIE9QRU5ST1VURVJfQVBJX0tFWTogcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9BUElfS0VZLFxuICAgIEdST1FfQVBJX0tFWTogcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZLFxuICAgIEhVR0dJTkdGQUNFX0FQSV9LRVk6IHByb2Nlc3MuZW52LkhVR0dJTkdGQUNFX0FQSV9LRVksXG4gICAgQkxPQl9SRUFEX1dSSVRFX1RPS0VOOiBwcm9jZXNzLmVudi5CTE9CX1JFQURfV1JJVEVfVE9LRU4sXG4gIH0sXG4gIC8qKlxuICAgKiBSdW4gYGJ1aWxkYCBvciBgZGV2YCB3aXRoIGBTS0lQX0VOVl9WQUxJREFUSU9OYCB0byBza2lwIGVudiB2YWxpZGF0aW9uLiBUaGlzIGlzIGVzcGVjaWFsbHlcbiAgICogdXNlZnVsIGZvciBEb2NrZXIgYnVpbGRzLlxuICAgKi9cbiAgc2tpcFZhbGlkYXRpb246ICEhcHJvY2Vzcy5lbnYuU0tJUF9FTlZfVkFMSURBVElPTixcbiAgLyoqXG4gICAqIE1ha2VzIGl0IHNvIHRoYXQgZW1wdHkgc3RyaW5ncyBhcmUgdHJlYXRlZCBhcyB1bmRlZmluZWQuIGBTT01FX1ZBUjogei5zdHJpbmcoKWAgYW5kXG4gICAqIGBTT01FX1ZBUj0nJ2Agd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICovXG4gIGVtcHR5U3RyaW5nQXNVbmRlZmluZWQ6IHRydWUsXG59KTsiXSwibmFtZXMiOlsiY3JlYXRlRW52IiwieiIsImVudiIsInNlcnZlciIsIkRBVEFCQVNFX1VSTCIsInN0cmluZyIsInVybCIsInJlZmluZSIsInN0ciIsImluY2x1ZGVzIiwiTk9ERV9FTlYiLCJlbnVtIiwiZGVmYXVsdCIsIk5FWFRBVVRIX1NFQ1JFVCIsInByb2Nlc3MiLCJvcHRpb25hbCIsIk5FWFRBVVRIX1VSTCIsInByZXByb2Nlc3MiLCJWRVJDRUxfVVJMIiwiVkVSQ0VMIiwiR0lUSFVCX0NMSUVOVF9JRCIsIkdJVEhVQl9DTElFTlRfU0VDUkVUIiwiR09PR0xFX0NMSUVOVF9JRCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiT1BFTlJPVVRFUl9BUElfS0VZIiwiR1JPUV9BUElfS0VZIiwiSFVHR0lOR0ZBQ0VfQVBJX0tFWSIsIkJMT0JfUkVBRF9XUklURV9UT0tFTiIsImNsaWVudCIsInJ1bnRpbWVFbnYiLCJza2lwVmFsaWRhdGlvbiIsIlNLSVBfRU5WX1ZBTElEQVRJT04iLCJlbXB0eVN0cmluZ0FzVW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/env.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/openid-client","vendor-chunks/zod","vendor-chunks/@babel","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/@auth","vendor-chunks/preact","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/@t3-oss","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caaa%5CPictures%5CTCHAT%5Cproject-bolt-sb1-ojgmykj8%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();